import{c as f,r as c,q as D,j as e,B as d,X as E}from"./index-COc_9EsS.js";import{D as L}from"./download-CpAEjvKm.js";import{C as Z}from"./chevron-left-LepgOg28.js";import{C as R}from"./chevron-right-CsS16ltb.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=f("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=f("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=f("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),O=({images:a,initialIndex:m,title:u,onClose:l})=>{const[t,h]=c.useState(m),[n,x]=c.useState(1),[g,b]=c.useState(!1),[r,i]=c.useState({x:0,y:0}),[k,N]=c.useState({x:0,y:0}),{toast:C}=D();c.useEffect(()=>{const s=o=>{o.key==="Escape"&&l(),o.key==="ArrowLeft"&&p(),o.key==="ArrowRight"&&v()};return document.addEventListener("keydown",s),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",s),document.body.style.overflow="unset"}},[t]);const v=()=>{t<a.length-1&&(h(t+1),y())},p=()=>{t>0&&(h(t-1),y())},j=()=>{x(s=>Math.min(s+.5,3))},I=()=>{x(s=>Math.max(s-.5,.5))},y=()=>{x(1),i({x:0,y:0})},S=async()=>{try{navigator.share?await navigator.share({title:`${u} - Image ${t+1}`,url:a[t]}):(await navigator.clipboard.writeText(a[t]),C({title:"Image URL copied",description:"The image URL has been copied to your clipboard."}))}catch(s){console.error("Error sharing:",s)}},$=()=>{const s=document.createElement("a");s.href=a[t],s.download=`${u}-${t+1}.jpg`,document.body.appendChild(s),s.click(),document.body.removeChild(s)},z=s=>{n>1&&(b(!0),N({x:s.clientX-r.x,y:s.clientY-r.y}))},M=s=>{g&&n>1&&i({x:s.clientX-k.x,y:s.clientY-k.y})},w=()=>{b(!1)};return e.jsxs("div",{className:"fixed inset-0 z-50 bg-background/95 backdrop-blur-sm flex items-center justify-center",children:[e.jsxs("div",{className:"absolute top-4 left-4 right-4 flex justify-between items-center z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 text-white",children:[e.jsxs("span",{className:"text-sm font-medium",children:[t+1," of ",a.length]}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["- ",u]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{variant:"outline",size:"sm",onClick:I,disabled:n<=.5,className:"bg-background/80 hover:bg-background",children:e.jsx(q,{className:"h-4 w-4"})}),e.jsx(d,{variant:"outline",size:"sm",onClick:j,disabled:n>=3,className:"bg-background/80 hover:bg-background",children:e.jsx(U,{className:"h-4 w-4"})}),e.jsx(d,{variant:"outline",size:"sm",onClick:S,className:"bg-background/80 hover:bg-background",children:e.jsx(T,{className:"h-4 w-4"})}),e.jsx(d,{variant:"outline",size:"sm",onClick:$,className:"bg-background/80 hover:bg-background",children:e.jsx(L,{className:"h-4 w-4"})}),e.jsx(d,{variant:"outline",size:"sm",onClick:l,className:"bg-background/80 hover:bg-background",children:e.jsx(E,{className:"h-4 w-4"})})]})]}),a.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(d,{variant:"outline",size:"lg",className:"absolute left-4 top-1/2 -translate-y-1/2 z-10 bg-background/80 hover:bg-background",onClick:p,disabled:t===0,children:e.jsx(Z,{className:"h-6 w-6"})}),e.jsx(d,{variant:"outline",size:"lg",className:"absolute right-4 top-1/2 -translate-y-1/2 z-10 bg-background/80 hover:bg-background",onClick:v,disabled:t===a.length-1,children:e.jsx(R,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"relative w-full h-full flex items-center justify-center cursor-move",onMouseDown:z,onMouseMove:M,onMouseUp:w,onMouseLeave:w,children:e.jsx("img",{src:a[t],alt:`${u} ${t+1}`,className:"max-w-full max-h-full object-contain transition-transform duration-200 select-none",style:{transform:`scale(${n}) translate(${r.x/n}px, ${r.y/n}px)`,cursor:n>1?g?"grabbing":"grab":"default"},draggable:!1,onDoubleClick:n===1?j:y})}),a.length>1&&e.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2 bg-background/80 rounded-lg p-2",children:a.map((s,o)=>e.jsx("img",{src:s,alt:`Thumbnail ${o+1}`,className:`w-12 h-12 object-cover rounded cursor-pointer transition-all duration-200 ${o===t?"border-2 border-accent ring-2 ring-accent/30":"border border-border hover:border-accent/50"}`,onClick:()=>{h(o),y()}},o))}),e.jsx("div",{className:"absolute inset-0 -z-10",onClick:l})]})},B=({images:a,title:m,className:u=""})=>{const[l,t]=c.useState(0),[h,n]=c.useState(!1);if(!a||a.length===0)return null;const x=a[l]||a[0],g=r=>{t(r)},b=()=>{n(!0)};return e.jsxs("div",{className:`space-y-4 ${u}`,children:[e.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow-soft group cursor-pointer",children:[e.jsx("img",{src:x,alt:`${m} main`,className:"w-full h-96 object-cover transition-transform duration-300 group-hover:scale-105",onClick:b}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),a.length>1&&e.jsx("div",{className:"flex gap-3 overflow-x-auto scrollbar-hide",children:a.map((r,i)=>e.jsx("img",{src:r,alt:`${m} ${i+1}`,className:`w-20 h-20 object-cover rounded-lg flex-shrink-0 cursor-pointer transition-all duration-200 ${i===l?"border-2 border-accent ring-2 ring-accent/20":"border-2 border-transparent hover:border-accent/50"}`,onClick:()=>g(i)},i))}),h&&e.jsx(O,{images:a,initialIndex:l,title:m,onClose:()=>n(!1)})]})};export{B as I,T as S};
