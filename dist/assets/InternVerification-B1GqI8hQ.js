import{z as x,j as e,C as u,v as h,w as f,x as j,s as p}from"./index-COc_9EsS.js";import{u as g}from"./useQuery-08ZbY9E2.js";import{H as a,F as n}from"./Footer-CyJ0ouTo.js";import{U as d}from"./UniformHeroSection-DgU-VhiN.js";import{B as N}from"./badge-jxMiL_t9.js";import{C as v}from"./circle-alert-1_djnEYX.js";import{C as b}from"./clock-DIS6wdkS.js";import{C as y}from"./circle-check-big-CT8teBUW.js";import"./chevron-down-Q_a8tIzl.js";import"./mail-C1qg-MLr.js";import"./phone-BZMpqAbR.js";import"./map-pin-BhWPv-Lk.js";const H=()=>{const{token:r}=x(),{data:s,isLoading:c,error:l}=g({queryKey:["intern-verification",r],queryFn:async()=>{if(!r)throw new Error("No verification token provided");const{data:t,error:i}=await p.from("interns").select("*").eq("verification_token",r).maybeSingle();if(i)throw i;if(!t)throw new Error("Invalid verification token");return t},enabled:!!r}),m=t=>{switch(t){case"verified":return e.jsx(y,{className:"w-6 h-6 text-green-600"});case"pending":return e.jsx(b,{className:"w-6 h-6 text-orange-600"});default:return e.jsx(v,{className:"w-6 h-6 text-gray-600"})}},o=t=>{const i={pending:"bg-orange-100 text-orange-800",verified:"bg-green-100 text-green-800",completed:"bg-blue-100 text-blue-800",terminated:"bg-red-100 text-red-800"};return e.jsx(N,{className:i[t]||"bg-gray-100 text-gray-800",children:t.charAt(0).toUpperCase()+t.slice(1)})};return c?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(a,{}),e.jsx("div",{className:"container-custom py-24",children:e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Verifying intern credentials..."})]})})}),e.jsx(n,{})]}):l||!s?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(a,{}),e.jsx(d,{title:"Verification Error",subtitle:"The verification link you used is invalid or has expired."}),e.jsx(n,{})]}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(a,{}),e.jsx(d,{title:"Intern Verification",subtitle:"Official Internship Credential Verification"}),e.jsx("div",{className:"container-custom py-16",children:e.jsx("div",{className:"max-w-3xl mx-auto",children:e.jsxs(u,{className:"card-modern",children:[e.jsxs(h,{className:"text-center pb-6",children:[e.jsx("div",{className:"flex justify-center mb-4",children:m(s.status)}),e.jsx(f,{className:"text-2xl",children:"Intern Verification Details"}),e.jsx("p",{className:"text-muted-foreground",children:"Official verification for internship at Civora Nexus"})]}),e.jsxs(j,{className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-primary mb-2",children:"Personal Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Full Name"}),e.jsx("p",{className:"text-lg font-medium",children:s.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Email Address"}),e.jsx("p",{children:s.email})]}),s.phone&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Phone Number"}),e.jsx("p",{children:s.phone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Intern ID"}),e.jsx("p",{className:"font-mono text-primary font-semibold",children:s.intern_id})]})]})]})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-primary mb-2",children:"Internship Details"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Department"}),e.jsx("p",{className:"text-lg font-medium",children:s.department})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Internship Year"}),e.jsx("p",{children:s.internship_year})]}),s.location&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Location"}),e.jsx("p",{children:s.location})]}),s.start_date&&s.end_date&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Duration"}),e.jsxs("p",{children:[new Date(s.start_date).toLocaleDateString()," - ",new Date(s.end_date).toLocaleDateString()]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Current Status"}),e.jsx("div",{className:"mt-1",children:o(s.status)})]})]})]})})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"font-semibold text-primary mb-4",children:"Verification Timeline"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Internship Record Created"}),e.jsx("span",{className:"text-sm font-medium",children:new Date(s.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),s.verified_at&&e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Verification Completed"}),e.jsx("span",{className:"text-sm font-medium",children:new Date(s.verified_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Last Updated"}),e.jsx("span",{className:"text-sm font-medium",children:new Date(s.updated_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})]}),e.jsxs("div",{className:"bg-muted/30 rounded-lg p-6 text-center",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"This verification page confirms the authenticity of the internship credentials."}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"For any inquiries regarding this verification, please contact our HR department at hr@civoranexus.com"})]})]})]})})}),e.jsx(n,{})]})};export{H as default};
