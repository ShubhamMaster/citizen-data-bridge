import{E as v,a as N,u as b,q as E,r as a,j as s,C as S,v as C,w as L,y as I,x as P,B as h}from"./index-COc_9EsS.js";import{I as p}from"./input-CtDZ1l8n.js";import{L as x}from"./label-Dwl52tZZ.js";import{L as q}from"./Loading-B8USftwP.js";import{E as F}from"./eye-off-Ccxjz4Hh.js";import{E as T}from"./eye-BWg0lIGw.js";const O=()=>{const{signIn:f,user:i}=v(),n=N(),o=b(),{toast:l}=E(),[c,g]=a.useState(""),[d,j]=a.useState(""),[m,u]=a.useState(!1),[t,w]=a.useState(!1);a.useEffect(()=>{var e;if(i){const r=((e=o.state)==null?void 0:e.from)||"/admin/dashboard";n(r,{replace:!0})}},[i,n,o]);const y=async e=>{e.preventDefault(),u(!0);try{await f(c,d),l({title:"Success",description:"Signed in successfully!",variant:"default"})}catch(r){l({title:"Error",description:r.message||"Failed to sign in",variant:"destructive"})}finally{u(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:s.jsxs(S,{className:"w-full max-w-md",children:[s.jsxs(C,{className:"text-center",children:[s.jsx(L,{className:"text-2xl font-bold",children:"Admin Login"}),s.jsx(I,{children:"Sign in to access the admin dashboard"})]}),s.jsx(P,{children:s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(x,{htmlFor:"email",children:"Email"}),s.jsx(p,{id:"email",type:"email",placeholder:"Enter your email",value:c,onChange:e=>g(e.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(x,{htmlFor:"password",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(p,{id:"password",type:t?"text":"password",placeholder:"Enter your password",value:d,onChange:e=>j(e.target.value),required:!0}),s.jsxs(h,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 -translate-y-1/2",onClick:()=>w(!t),children:[t?s.jsx(F,{className:"h-4 w-4"}):s.jsx(T,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Toggle password"})]})]})]}),s.jsx(h,{type:"submit",className:"w-full",disabled:m,children:m?s.jsx(q,{size:"sm",className:"min-h-0 w-5 h-5"}):"Sign In"})]})})]})})};export{O as default};
