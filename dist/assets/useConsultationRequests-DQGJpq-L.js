import{q as a,A as u,s as l}from"./index-COc_9EsS.js";import{u as c,a as m}from"./useEmailConfirmation-Dx1rH9dT.js";const d=()=>{const{toast:t}=a(),s=u(),{sendConfirmationEmail:o}=c();return m({mutationFn:async e=>{const n={...e,preferred_date:e.preferred_date===""?null:e.preferred_date},{data:i,error:r}=await l.from("consultation_requests").insert([n]).select().single();if(r)throw r;return await o({formType:"consultation",...e}),i},onSuccess:()=>{t({title:"Consultation Request Submitted!",description:"Thank you for your interest. We'll get back to you within 24 hours."}),s.invalidateQueries({queryKey:["consultation-requests"]})},onError:e=>{console.error("Error submitting consultation request:",e),t({title:"Submission Error",description:"There was an error submitting your request. Please try again.",variant:"destructive"})}})};export{d as u};
